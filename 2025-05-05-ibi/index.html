<!doctype html>
<html lang="de">
				<head>
								<meta charset="utf-8">
								<meta name="viewport" content="width=1920, height=1200, initial-scale=1.0, maximum-scale=1.5, user-scalable=no">

								<title>D-Sat</title>

								<link rel="stylesheet" href="../reveal.js/css/reveal.css">
								<link rel="stylesheet" href="../reveal.js/css/theme/simple.css">

				<!-- adjustments for serif.css -->
				<link rel="stylesheet" href="custom.css">

								<!-- Theme used for syntax highlighting of code -->
								<link rel="stylesheet" href="../reveal.js/lib/css/zenburn.css">

								<!-- Printing and PDF exports -->
								<script>
												var link = document.createElement( 'link' );
												link.rel = 'stylesheet';
												link.type = 'text/css';
												link.href = window.location.search.match( /print-pdf/gi ) ? '../reveal.js/css/print/pdf.css' : '../reveal.js/css/print/paper.css';
												document.getElementsByTagName( 'head' )[0].appendChild( link );
								</script>
				</head>
				<body>
								<div class="reveal">
												<div class="slides">
														<section data-markdown="" data-separator="^\n---\n" data-separator-vertical="^\n--\n" data-charset="utf-8">
<script type="text/template">

# 42

<!-- .element: style="font-size:25em;margin:0;" -->



---



# D-Sat <!-- .element: style="font-size:3em;" -->

## My Excursion Into Data Archaeology

<br/>[Robert JÃ¤schke](https://hu.berlin/RJ/)

Humboldt-UniversitÃ¤t zu Berlin<!-- .element: style="font-size:0.75em;" -->

May 5th, 2025


<small>
<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Lizenzvertrag" style="border-width:0;width:88px" src="images/cc.png"/></a> <br/>
This work is licensed under <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a>.
</small>

<!-- .element: style="margin-top: 5em;" -->

---



# How it all started

![](images/dsat_cover.jpg)
<!-- .element class="" style="height:350px; margin:0 10px;" -->
![](images/dsat_screenshot.png)
<!-- .element class="fragment noshadow" style="height:350px; margin:0 10px;" -->

Note:
- D-Sat: first widely available satellite imagery of Germany
- available in the 90s on two CD-ROMs
- images of Sovjet military satellites
- valuable tool for exploring and documenting facilities that were
  used by the Sovjet army in East Germany
- imagery shows land and buildings shortly after reunification (=
  still in use)
- (BTW: cloud on the left hides important facility)

--

## 2005

*(I am just finishing my math degree.)*

- nice tool but:<!-- .element class="diagonal" -->
		- old Windows executable
		- data hidden in a big blob
- idea: overlay images with information, enrich object descriptions
  with satellite images<!-- .element class="idea" -->
- How to extract images and geo-code them?<!-- .element class="thinking" -->

<!-- .element class="left" -->


![](images/dsat_files.png)
<!-- .element class="right" style="width:45%;box-shadow:none;margin:0px" -->

--

![](images/dsatnord_00.svg)
<!-- .element class="dsatnord" -->


starting point: understanding the coordinate system

![](images/map_marker.png)

ðŸ’¡ `grep Berlin dsatnord.mp`

<!-- .element class="fragment" -->


| Byte            |   1 |   2 |   3 |   4 |   5 |   6 |   7 |   8 |   9 |  10 |  11 |  12 |  13 |  14 |  15 |  16 |  17 |  18 |  19 |  20 |  21 |  22 |  23 |  24 |
| --------------- | ---:| ---:| ---:| ---:| ---:| ---:| ---:| ---:| ---:| ---:| ---:| ---:| ---:| ---:| ---:| ---:| ---:| ---:| ---:| ---:| ---:| ---:| ---:| ---:|
| Alsenz          |  41 |  92 | 143 | 194 | 184 |  76 |  25 |  65 |   0 |   0 |   0 | 192 | 140 |  11 |  85 |  65 |   9 |   0 |   0 |   0 |   0 |   0 |   0 |   0 |
| Alsfeld         |  20 | 174 |  71 | 225 | 165 | 173 |  31 |  65 |   0 |   0 |   0 | 224 |  81 | 122 |  85 |  65 |  26 |   0 |   0 |   0 |   0 |   0 |   0 |   0 |
| Alsheim         |  41 |  92 | 143 | 194 |  10 | 159 |  27 |  65 |   0 |   0 |   0 | 192 | 170 |  15 |  85 |  65 |   9 |   0 |   0 |   0 |   0 |   0 |   0 |   0 |
| Alsleben/ Saale |   0 |   0 |   0 | 128 |  40 | 234 |  36 |  65 |   0 |   0 |   0 |   0 | 183 | 228 |  85 |  65 |  26 |   0 |   0 |   0 |   0 |   0 |   0 |   0 |
| Alt Bennebek    |   0 |   0 |   0 | 128 |   2 |  30 |  32 |  65 |   0 |   0 |   0 | 128 |  57 |   2 |  87 |  65 |   9 |   0 |   0 |   0 |   0 |   0 |   0 |   0 |
| Alt Bork        | 236 |  81 | 184 | 158 | 134 |  88 |  39 |  65 |   0 |   0 |   0 |  64 | 148 |  28 |  86 |  65 |   9 |   0 |   0 |   0 |   0 |   0 |   0 |   0 |
| Alt Duvenstedt  |   0 |   0 |   0 | 128 |  72 | 138 |  32 |  65 |   0 |   0 |   0 |  96 |  47 |   0 |  87 |  65 |   9 |   0 |   0 |   0 |   0 |   0 |   0 |   0 |
| Alt Golm        |  41 |  92 | 143 |  66 | 103 | 241 |  41 |  65 |   0 |   0 |   0 |  32 | 105 |  46 |  86 |  65 |   9 |   0 |   0 |   0 |   0 |   0 |   0 |   0 |
| Alt Krenzlin    | 236 |  81 | 184 |  30 |  67 | 245 |  35 |  65 |   0 |   0 |   0 |  64 | 118 | 146 |  86 |  65 |   9 |   0 |   0 |   0 |   0 |   0 |   0 |   0 |


<!-- .element class="fragment" style="font-size:11pt" -->

--

![](images/dsatnord_01.svg)
<!-- .element class="dsatnord" -->

- 13394 places<!-- .element class="smiling" -->
- coordinates as two 32 bit (or 64 bit?) values<!-- .element class="thinking" -->
   - not clear whether (unsigned) integer or floating point values
- unknown projection and datum<!-- .element class="frowning" -->

<!-- .element class="left" -->


![](https://dsat.igada.de/img/dsat1_dekodiert_1.png)
<!-- .element style="width:35%;box-shadow:none;margin:0px" -->

[decoding the city database](https://dsat.igada.de/2005/03/26/decoding-the-city-database.html)
<!-- .element class="blog" -->



---



## 2024

*(I somehow stumble over my old web page and got interested again.)*

ðŸ”Ž function `CLsDecode::GetImageDataSize` in `lsd26dll.dll`:

<!-- .element class="fragment" -->

```c++
if (*arg1 == 0x43 && arg1[1] == 0x49 && arg1[2] == 0x53)
	if (arg1[3] != 0x33)
		return 0
	if (arg1[5] == 0x30)
```

<!-- .element class="fragment" -->

ðŸ’¡ `0x43 0x49 0x53 0x33` = "CIS3"

<!-- .element class="fragment" -->

Note:
- Kudos to Jan for discovering that code!
- What "CIS3" means and how the images are encoded is another (longer) story ...

--

![](https://dsat.igada.de/img/offsets_zoom.png)
<!-- .element class="noshadow" -->

[finding the tiles](https://dsat.igada.de/2024/04/02/finding-the-tiles.html)
<!-- .element class="blog" -->

--

![](https://dsat.igada.de/img/offsets_sizes.png)
<!-- .element class="noshadow" -->

[visualising the tile size distribution](https://dsat.igada.de/2024/04/21/visualising-the-tile-size-distribution.html)
<!-- .element class="blog" -->

Note:
some intriguing observations:
- several tiles with size close to 0
- those are not randomly distributed ...

â†’ we'll see later, what this means



---



![](images/dsatnord_02.svg)
<!-- .element class="dsatnord" -->

The (hexadecimal values of the) first sixteen bytes of `dsatnord.mp`:

`50 31 32 00 44 53 41 54  98 34 01 00 f2 2d 0f 00`

`P12.DSAT.4...-..`

<!-- .element class="fragment" -->

[searching for the index](https://dsat.igada.de/2024/04/23/searching-for-the-index.html)
<!-- .element class="blog" -->



---



![](images/dsatnord_03.svg)
<!-- .element class="dsatnord" -->


![](https://dsat.igada.de/img/un1.png)



[searching for the index](https://dsat.igada.de/2024/04/23/searching-for-the-index.html)
<!-- .element class="blog" -->

Note:
We can see several segments with quite some regularities.

Skipping the first 16 header bytes, and then interpreting each 4 bytes
as unsigned integer (`./src/mp.py -c dump_ints un1.dat >
un1_ints.tsv`), this segment basically contains the byte offsets of
the tiles: 316020, 328719, 351371, 384572, 405841, 446659, 483024,
525098, 566987, 619866, ...


---



![](images/dsatnord_04.svg)
<!-- .element class="dsatnord" -->

![](https://dsat.igada.de/img/un3_1_autocorrelation.png)
<!-- .element class="noshadow" style="width:70%;" -->

[finding something unexpected](https://dsat.igada.de/2024/05/06/finding-something-unexpected.html)
<!-- .element class="blog" -->

--


![](images/dsatnord_04.svg)
<!-- .element class="dsatnord" -->


![](https://dsat.igada.de/img/un3_1_4xhist.png)
<!-- .element class="noshadow" style="width:70%;" -->


[finding something unexpected](https://dsat.igada.de/2024/05/06/finding-something-unexpected.html)
<!-- .element class="blog" -->

--

![](images/dsatnord_04.svg)
<!-- .element class="dsatnord" -->


![](https://dsat.igada.de/img/un3_1_int.png)
<!-- .element style="width:40%;box-shadow:none;margin:0px 30px" -->
![](https://dsat.igada.de/img/un3_1_float_color.png)
<!-- .element class="fragment" style="width:40%;box-shadow:none;margin:0px  30px" -->

[finding something unexpected](https://dsat.igada.de/2024/05/06/finding-something-unexpected.html)
<!-- .element class="blog" -->



---

![](images/dsatnord_05.svg)
<!-- .element class="dsatnord" -->


|  start offset |  end offset |  tile size |  number of tiles |
| ------------: | ----------: | ---------: | ---------------: |
|        316020 |     1070097 |    250x250 |               20 |
|       1070097 |    10127037 |    500x500 |              169 |
|      16194771 |    86822577 |    500x500 |             2240 |
|      86822577 |   644833451 |  1000x1000 |            24701 |
|               |             |            |        Î£ = 27130 |

[visualising entropy](https://dsat.igada.de/2024/05/11/visualising-entropy.html)
<!-- .element class="blog" -->

--

![](images/dsatnord_05.svg)
<!-- .element class="dsatnord" -->

![](https://dsat.igada.de/img/ve_offsets.png)
<!-- .element class="fragment noshadow" style="width:40%;margin:0 10px;"-->
![](https://dsat.igada.de/img/ve_offsets_colored.png)
<!-- .element class="fragment noshadow" style="width:40%;margin:0 10px;"-->

![](https://dsat.igada.de/img/ve_offsets_colored_wo_outliers.png)
<!-- .element class="fragment noshadow" style="width:40%;margin:0 10px;"-->
![](https://dsat.igada.de/img/ve_offsets_colored_wo_outliers_zoom2.png)
<!-- .element class="fragment noshadow" style="width:40%;margin:0 10px;"-->


[visualising entropy](https://dsat.igada.de/2024/05/11/visualising-entropy.html)
<!-- .element class="blog" -->


--

![](images/dsatnord_05.svg)
<!-- .element class="dsatnord" -->

![](https://dsat.igada.de/img/ve_tiles250.png)
<!-- .element class="noshadow" -->


[visualising entropy](https://dsat.igada.de/2024/05/11/visualising-entropy.html)
<!-- .element class="blog" -->

--

![](images/dsatnord_06.svg)
<!-- .element class="dsatnord" -->

![](https://dsat.igada.de/img/ve_tiles500_13x13.png)
<!-- .element class="noshadow" -->


[visualising entropy](https://dsat.igada.de/2024/05/11/visualising-entropy.html)
<!-- .element class="blog" -->

--

![](images/dsatnord_06.svg)
<!-- .element class="dsatnord" -->

![](https://dsat.igada.de/img/ve_offsets_colored_wo_outliers_duplicates.png)
<!-- .element class="fragment noshadow" style="width:47%;margin:0 10px;"-->
![](https://dsat.igada.de/img/ve_offsets_colored_wo_outliers_duplicates_zoom1.png)
<!-- .element class="fragment noshadow" style="width:47%;margin:0 10px;"-->

[visualising entropy](https://dsat.igada.de/2024/05/11/visualising-entropy.html)
<!-- .element class="blog" -->

--

![](images/dsatnord_07.svg)
<!-- .element class="dsatnord" -->

![](https://dsat.igada.de/img/ve_tiles500_61x49.png)
<!-- .element class="noshadow" style="width:47%;margin:0 10px;"-->
![](https://dsat.igada.de/img/ve_tiles500_59x50.png)
<!-- .element class="fragment noshadow" style="width:47%;margin:0 10px;"-->


[visualising entropy](https://dsat.igada.de/2024/05/11/visualising-entropy.html)
<!-- .element class="blog" -->

--

![](images/dsatnord_08.svg)
<!-- .element class="dsatnord" -->


![](https://dsat.igada.de/img/ve_tiles1000_165x250.png)
<!-- .element class="fragment noshadow" -->

[visualising entropy](https://dsat.igada.de/2024/05/11/visualising-entropy.html)
<!-- .element class="blog" -->

---

![](images/dsatnord_09.svg)
<!-- .element class="dsatnord" -->


![](https://dsat.igada.de/img/unknown3_1.png)
<!-- .element class="noshadow" style="width:60%;margin:0px" -->

[finding something unexpected again](https://dsat.igada.de/2024/07/04/finding-something-unexpected-again.html)
<!-- .element class="blog" -->

--

![](images/dsatnord_09.svg)
<!-- .element class="dsatnord" -->


![](https://dsat.igada.de/img/thisisabitmap.png)
<!-- .element class="noshadow" style="width:60%;margin:0px" -->

[finding something unexpected again](https://dsat.igada.de/2024/07/04/finding-something-unexpected-again.html)
<!-- .element class="blog" -->

--

![](images/dsatnord_09.svg)
<!-- .element class="dsatnord" -->

![](https://dsat.igada.de/img/aachen.png)
![](https://dsat.igada.de/img/aalen.png)<!-- .element class="fragment" -->
![](images/ahlen.png)<!-- .element class="fragment" -->
![](images/albstadt.png)<!-- .element class="fragment" -->
<span>...</span> <!-- .element class="fragment" style="margin-left:30px;"-->

![](https://dsat.igada.de/img/city_signs.png)
<!-- .element class="fragment noshadow" style="width:100%;" -->

[finding something unexpected again](https://dsat.igada.de/2024/07/04/finding-something-unexpected-again.html)
<!-- .element class="blog" -->


Note:
- these signs are a mystery!
- 201 cities â†’ not clear how they were selected
- Wavelet vs. BMP
- Why not generated?
  - my guess: hand-crafted to fit longer names (see
	"Villingen-Schwenningen")
- but: 13394 places overall and for each of them such a sign is shown
  on the map when searching for the place â†’ those ARE generated!

---



![](images/dsatnord_10.svg)
<!-- .element class="dsatnord" -->

![](https://dsat.igada.de/img/un2.png)
<!-- .element class="fragment noshadow" style="height:500px;margin:0 20px;" -->
![](https://dsat.igada.de/img/un2_1_int.png)
<!-- .element class="fragment noshadow" style="height:500px;margin:0 20px;" -->


[solving a mystery (and finding something unexpected again)](https://dsat.igada.de/2024/07/28/solving-a-mystery.html)
<!-- .element class="blog" -->

---



![](images/dsatnord_11.svg)
<!-- .element class="dsatnord" -->


![](images/mannh1.jpg)
<!-- .element class="fragment" style="margin:0 10px; width:40%;" -->
![](images/mannh2.jpg)
<!-- .element class="fragment" style="margin:0 10px; width:40%;" -->


![](https://dsat.igada.de/img/topware0.jpg)
<!-- .element class="fragment" style="margin:0 10px; height:80px;" -->
![](images/aerial1.png)
<!-- .element class="fragment" style="margin:0 10px; height:133px;" -->
![](https://dsat.igada.de/img/aerial1.jpg)
<!-- .element class="fragment" style="margin:0 10px; height:80px;" -->

[solving a mystery (and finding something unexpected again)](https://dsat.igada.de/2024/07/28/solving-a-mystery.html)
<!-- .element class="blog" -->


Note:
- Nachtigall, ick hÃ¶r dir trappsen!
- how/Why can we "see" the image when visualising the byte values?


---



![](images/dsatnord_12.svg)
<!-- .element class="dsatnord" -->

## 28,656 Bytes of Uncharted Territory

**show some examples?**

**incorporate [Ideen fÃ¼r Vortrag](file:README.org*Ideen fÃ¼r Vortrag)**

- among them some interesting strings like
	- `D:\Dsat\Dsat23\CityDlg.cpp..c:\temp\cityname.bin`
	- `bmp.02..mp`
	- `stbmp002.bmp`



---

![](images/dsatnord_12.svg)
<!-- .element class="dsatnord" -->

## Results & Outlook

- "What is where?" is (basically) solved
- formal description of `dsatnord.mp` using Kaitai Struct
  (show an example / screenshot?)

- use hand-crafted colors in legend (e.g., grey for "unknown", same
  base color for tiles, etc.)


Open problems (and how to approach them):
- decoding COD images
  - â†’ old Java byte code in Internet Archive
  - collection of 1,552 URLs to (potentially) 1,342 COD files in Internet Archive
- D-Sat coordinate system
  - â†’ former employees of Topware, Scout Systems, Buhl Data Service
-





</script>
														</section>
												</div>
								</div>

								<script src="../reveal.js/lib/js/head.min.js"></script>
								<script src="../reveal.js/js/reveal.js"></script>

								<script>
												// More info https://github.com/hakimel/reveal.js#configuration
												Reveal.initialize({
														history: true,
														slideNumber: true,

														// More info https://github.com/hakimel/reveal.js#dependencies
														dependencies: [
																		{ src: '../reveal.js/plugin/markdown/marked.js' },
																		{ src: '../reveal.js/plugin/markdown/markdown.js' },
																		{ src: '../reveal.js/plugin/notes/notes.js', async: true },
																		{ src: '../reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
														]
												});
								</script>
				</body>
</html>

<!--
  Local Variables:
  eval: (indent-tabs-mode)
  End:
  -->
